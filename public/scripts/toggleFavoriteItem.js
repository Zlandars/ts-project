import { getFavoriteItems, getFavoritesAmount } from "./index.js";
import { renderUserBlock } from "./user.js";
export function toggleFavoriteItem(e) {
    let likes = getFavoritesAmount();
    let favorites = getFavoriteItems();
    if (!favorites.includes(e.target.id)) {
        e.target.classList.add('active');
        localStorage.setItem('favoriteItems', `${favorites.join()},${e.target.id}`);
        localStorage.setItem('favoritesAmount', `${++likes}`);
    }
    else {
        e.target.classList.remove('active');
        favorites = favorites.filter(function (item) {
            return item !== e.target.id;
        });
        localStorage.setItem('favoriteItems', `${favorites.join()}`);
        localStorage.setItem('favoritesAmount', `${--likes}`);
    }
    renderUserBlock();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9nZ2xlRmF2b3JpdGVJdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RvZ2dsZUZhdm9yaXRlSXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsZ0JBQWdCLEVBQUUsa0JBQWtCLEVBQUMsTUFBTSxZQUFZLENBQUM7QUFDaEUsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLFdBQVcsQ0FBQztBQUUxQyxNQUFNLFVBQVUsa0JBQWtCLENBQUMsQ0FBSztJQUNwQyxJQUFJLEtBQUssR0FBRyxrQkFBa0IsRUFBRSxDQUFDO0lBQ2pDLElBQUksU0FBUyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUNmLENBQUMsQ0FBQyxNQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRCxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBQyxHQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFDMUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQTtLQUN4RDtTQUFNO1FBQ2dCLENBQUMsQ0FBQyxNQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4RCxTQUFTLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFTLElBQVc7WUFDN0MsT0FBTyxJQUFJLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUE7UUFDL0IsQ0FBQyxDQUFDLENBQUE7UUFDRixZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBQyxHQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFDM0QsWUFBWSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQTtLQUN4RDtJQUNELGVBQWUsRUFBRSxDQUFBO0FBQ3JCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldEZhdm9yaXRlSXRlbXMsIGdldEZhdm9yaXRlc0Ftb3VudH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCB7cmVuZGVyVXNlckJsb2NrfSBmcm9tIFwiLi91c2VyLmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVGYXZvcml0ZUl0ZW0oZTphbnkpOnZvaWQge1xuICAgIGxldCBsaWtlcyA9IGdldEZhdm9yaXRlc0Ftb3VudCgpO1xuICAgIGxldCBmYXZvcml0ZXMgPSBnZXRGYXZvcml0ZUl0ZW1zKCk7XG4gICAgaWYgKCFmYXZvcml0ZXMuaW5jbHVkZXMoZS50YXJnZXQuaWQpKSB7XG4gICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXZvcml0ZUl0ZW1zJyxgJHtmYXZvcml0ZXMuam9pbigpfSwke2UudGFyZ2V0LmlkfWApXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXZvcml0ZXNBbW91bnQnLCBgJHsrK2xpa2VzfWApXG4gICAgfSBlbHNlIHtcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZmF2b3JpdGVzID0gZmF2b3JpdGVzLmZpbHRlcihmdW5jdGlvbihpdGVtOm51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGUudGFyZ2V0LmlkXG4gICAgICAgIH0pXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXZvcml0ZUl0ZW1zJyxgJHtmYXZvcml0ZXMuam9pbigpfWApXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXZvcml0ZXNBbW91bnQnLCBgJHstLWxpa2VzfWApXG4gICAgfVxuICAgIHJlbmRlclVzZXJCbG9jaygpXG59Il19