import { renderSearchFormBlock } from './search-form.js';
import { renderSearchStubBlock } from './search-results.js';
import { renderUserBlock } from './user.js';
import { renderToast } from './lib.js';
import search from "./search.js";
export function getFavoritesAmount() {
    if (localStorage.getItem('favoritesAmount') == null) {
        localStorage.setItem('favoritesAmount', '0');
        return 0;
    }
    return Number(localStorage.getItem('favoritesAmount'));
}
export function getFavoriteItems() {
    let locStore = localStorage.getItem('favoriteItems');
    if (locStore == null) {
        return localStorage.setItem('favoriteItems', '');
    }
    return locStore.split(',');
}
window.addEventListener('DOMContentLoaded', () => {
    renderUserBlock();
    renderSearchFormBlock();
    renderSearchStubBlock();
    renderToast({ text: 'Это пример уведомления. Используйте его при необходимости', type: 'success' }, { name: 'Понял', handler: () => { console.log('Уведомление закрыто'); } });
    const form = document.querySelector('form');
    function dateTransform(value) {
        const date = new Date(value);
        return [date.getTime(), date];
    }
    if (form) {
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const city = document.querySelector('#city').value;
            const arrival = dateTransform(document.querySelector('#check-in-date').value);
            const depart = dateTransform(document.querySelector('#check-out-date').value);
            const maxPrice = Number(document.querySelector('#max-price').value);
            search({ city: city, checkInDate: arrival, checkOutDate: depart, maxPrice: maxPrice });
        });
    }
    return console.log('47str, index.ts');
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFDeEQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0scUJBQXFCLENBQUE7QUFDM0QsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUMzQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ3RDLE9BQU8sTUFBTSxNQUFNLGFBQWEsQ0FBQztBQUVqQyxNQUFNLFVBQVUsa0JBQWtCO0lBQ2hDLElBQUksWUFBWSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUFFLElBQUksRUFBRTtRQUNqRCxZQUFZLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sQ0FBQyxDQUFDO0tBQ1Y7SUFDRCxPQUFPLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztBQUN6RCxDQUFDO0FBQ0QsTUFBTSxVQUFVLGdCQUFnQjtJQUM5QixJQUFJLFFBQVEsR0FBRSxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3BELElBQUksUUFBUSxJQUFFLElBQUksRUFBRTtRQUNsQixPQUFPLFlBQVksQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ2pEO0lBQ0QsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzdCLENBQUM7QUFDRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBQy9DLGVBQWUsRUFBRSxDQUFBO0lBQ2pCLHFCQUFxQixFQUFFLENBQUE7SUFDdkIscUJBQXFCLEVBQUUsQ0FBQTtJQUN2QixXQUFXLENBQ1QsRUFBQyxJQUFJLEVBQUUsMkRBQTJELEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBQyxFQUNwRixFQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxHQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQSxDQUFBLENBQUMsRUFBQyxDQUNyRSxDQUFBO0lBQ0QsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QyxTQUFTLGFBQWEsQ0FBQyxLQUFZO1FBQ2pDLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdCLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUNELElBQUksSUFBSSxFQUFFO1FBQ1IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBQyxFQUFFO1lBQ25DLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNuQixNQUFNLElBQUksR0FBNkIsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUUsQ0FBQyxLQUFLLENBQUM7WUFDOUUsTUFBTSxPQUFPLEdBQUcsYUFBYSxDQUFvQixRQUFRLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbEcsTUFBTSxNQUFNLEdBQUcsYUFBYSxDQUFvQixRQUFRLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbEcsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFvQixRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3hGLE1BQU0sQ0FBQyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsV0FBVyxFQUFFLE9BQU8sRUFBQyxZQUFZLEVBQUUsTUFBTSxFQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO1FBQ3BGLENBQUMsQ0FBQyxDQUFBO0tBQ0g7SUFDRCxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN4QyxDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlclNlYXJjaEZvcm1CbG9jayB9IGZyb20gJy4vc2VhcmNoLWZvcm0uanMnXG5pbXBvcnQgeyByZW5kZXJTZWFyY2hTdHViQmxvY2sgfSBmcm9tICcuL3NlYXJjaC1yZXN1bHRzLmpzJ1xuaW1wb3J0IHsgcmVuZGVyVXNlckJsb2NrIH0gZnJvbSAnLi91c2VyLmpzJ1xuaW1wb3J0IHsgcmVuZGVyVG9hc3QgfSBmcm9tICcuL2xpYi5qcydcbmltcG9ydCBzZWFyY2ggZnJvbSBcIi4vc2VhcmNoLmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGYXZvcml0ZXNBbW91bnQoKTpudW1iZXIge1xuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zhdm9yaXRlc0Ftb3VudCcpPT1udWxsKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zhdm9yaXRlc0Ftb3VudCcsJzAnKTtcbiAgICByZXR1cm4gMDtcbiAgfVxuICByZXR1cm4gTnVtYmVyKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYXZvcml0ZXNBbW91bnQnKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RmF2b3JpdGVJdGVtcygpOmFueSB7XG4gIGxldCBsb2NTdG9yZSA9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zhdm9yaXRlSXRlbXMnKTtcbiAgaWYgKGxvY1N0b3JlPT1udWxsKSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXZvcml0ZUl0ZW1zJywnJyk7XG4gIH1cbiAgcmV0dXJuIGxvY1N0b3JlLnNwbGl0KCcsJyk7XG59XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgcmVuZGVyVXNlckJsb2NrKClcbiAgcmVuZGVyU2VhcmNoRm9ybUJsb2NrKClcbiAgcmVuZGVyU2VhcmNoU3R1YkJsb2NrKClcbiAgcmVuZGVyVG9hc3QoXG4gICAge3RleHQ6ICfQrdGC0L4g0L/RgNC40LzQtdGAINGD0LLQtdC00L7QvNC70LXQvdC40Y8uINCY0YHQv9C+0LvRjNC30YPQudGC0LUg0LXQs9C+INC/0YDQuCDQvdC10L7QsdGF0L7QtNC40LzQvtGB0YLQuCcsIHR5cGU6ICdzdWNjZXNzJ30sXG4gICAge25hbWU6ICfQn9C+0L3Rj9C7JywgaGFuZGxlcjogKCkgPT4ge2NvbnNvbGUubG9nKCfQo9Cy0LXQtNC+0LzQu9C10L3QuNC1INC30LDQutGA0YvRgtC+Jyl9fVxuICApXG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gIGZ1bmN0aW9uIGRhdGVUcmFuc2Zvcm0odmFsdWU6c3RyaW5nKTpbbnVtYmVyLERhdGVdIHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgIHJldHVybiBbZGF0ZS5nZXRUaW1lKCksZGF0ZV07XG4gIH1cbiAgaWYgKGZvcm0pIHtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKT0+e1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgY2l0eTpzdHJpbmcgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NpdHknKSkudmFsdWU7XG4gICAgICBjb25zdCBhcnJpdmFsID0gZGF0ZVRyYW5zZm9ybSgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NoZWNrLWluLWRhdGUnKSkudmFsdWUpO1xuICAgICAgY29uc3QgZGVwYXJ0ID0gZGF0ZVRyYW5zZm9ybSgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NoZWNrLW91dC1kYXRlJykpLnZhbHVlKTtcbiAgICAgIGNvbnN0IG1heFByaWNlID0gTnVtYmVyKCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWF4LXByaWNlJykpLnZhbHVlKTtcbiAgICAgIHNlYXJjaCh7Y2l0eTogY2l0eSxjaGVja0luRGF0ZTogYXJyaXZhbCxjaGVja091dERhdGU6IGRlcGFydCxtYXhQcmljZTogbWF4UHJpY2V9KTtcbiAgICB9KVxuICB9XG4gIHJldHVybiBjb25zb2xlLmxvZygnNDdzdHIsIGluZGV4LnRzJyk7XG59KVxuXG5cblxuIl19